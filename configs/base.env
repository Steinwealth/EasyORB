# === OPTIMIZED Easy ORB Strategy Core Configuration ===
# High-performance configuration with intelligent defaults
# Last updated: 2026-01-06 (Rev 00231)

# === SYSTEM IDENTITY ===
PROJECT_NAME=Easy ORB Strategy
VERSION=2.0
ENVIRONMENT=development

# === TRADING MODE ===
# Set to 'demo' for mock trading or 'live' for real E*TRADE trading
TRADING_MODE=demo

# === PERFORMANCE OPTIMIZATION ===
# Memory and CPU optimization
MAX_WORKERS=8
BATCH_SIZE=20
CACHE_TTL_SECONDS=60
MEMORY_LIMIT_MB=2048
POLL_SECONDS=1.0

# === ENHANCED POSITION MONITORING ===
# 30-second monitoring for maximum profit capture
POSITION_MONITORING_INTERVAL=30

# Advanced performance settings
ENABLE_ASYNC_PROCESSING=true
ENABLE_CONNECTION_POOLING=true
ENABLE_MEMORY_OPTIMIZATION=true
ENABLE_CACHE_OPTIMIZATION=true
ENABLE_PARALLEL_PROCESSING=true

# Memory management
MEMORY_CLEANUP_INTERVAL_SECONDS=300
MEMORY_PRESSURE_THRESHOLD=0.8
MEMORY_GC_FORCE_INTERVAL_SECONDS=600
CACHE_MAX_SIZE=2000
CACHE_CLEANUP_THRESHOLD=0.9

# Connection optimization
CONNECTION_POOL_SIZE=20
CONNECTION_TIMEOUT_SECONDS=10
CONNECTION_RETRY_ATTEMPTS=3
CONNECTION_KEEPALIVE=true
CONNECTION_POOL_RECYCLE_SECONDS=3600

# === TELEGRAM CONFIGURATION ===
# SECURITY: Credentials loaded from secretsprivate/telegram.env (local) or Google Secret Manager (production)
# DO NOT hardcode secrets here - use secretsprivate/telegram.env for local development
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
TELEGRAM_ENABLED=true
TELEGRAM_ALERT_TYPES=entry,exit,error,performance,daily_summary
TELEGRAM_MAX_MESSAGES_PER_MINUTE=20

# === DAILY PnL ALERT CONFIGURATION ===
DAILY_PNL_ALERTS_ENABLED=true
DAILY_ALERT_TIME=16:05
DAILY_ALERT_INCLUDE_POSITIONS=true
DAILY_ALERT_INCLUDE_PERFORMANCE=true

# === GOOGLE CLOUD CONFIGURATION ===
GCP_PROJECT_ID=odin-187104
GCP_REGION=us-west2
GCP_ZONE=us-west2-a

# === MARKET HOURS ===
TZ=America/New_York
PREP_START_ET=08:30
RTH_OPEN_ET=09:30
RTH_CLOSE_ET=16:00
AFTER_HOURS_END_ET=20:00

# === HOLIDAYS ===
HOLIDAYS_ENABLED=true
HOLIDAYS_CUSTOM_PATH=data/holidays_custom.json

# === OPTIMIZED LOGGING CONFIGURATION ===
LOG_LEVEL=INFO
LOG_PATH=logs/etrade_strategy.log
LOG_ROTATION=true
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5
SESSION_LOG_LEVEL=INFO

# Performance logging
LOG_PERFORMANCE_METRICS=true
LOG_MEMORY_USAGE=true
LOG_CACHE_EFFICIENCY=true
LOG_CONNECTION_POOL_STATUS=true

# === OPTIMIZED DATA PROVIDER CONFIGURATION ===
DATA_PRIORITY=etrade,polygon,yfinance
FAILOVER_BAD_PULLS=3
FAILOVER_COOLDOWN_SECONDS=60

# Data provider optimization
ENABLE_DATA_CACHING=true
ENABLE_DATA_COMPRESSION=true
ENABLE_DATA_DEDUPLICATION=true
DATA_CACHE_SIZE_MB=500
DATA_CACHE_TTL_SECONDS=300

# === OPTIMIZED SCANNER CONFIGURATION ===
MAX_WATCHLIST_SIZE=65
CORE_SYMBOL_COUNT=33
DYNAMIC_SYMBOL_COUNT=32

# Scanner performance
SCANNER_BATCH_SIZE=20
SCANNER_PARALLEL_WORKERS=4
SCANNER_CACHE_TTL_SECONDS=180
SCANNER_MEMORY_LIMIT_MB=256

# === SIGNAL APPROVAL ENHANCEMENTS ===
# Multi-Timeframe Analysis
ENABLE_MULTI_TIMEFRAME=true
TIMEFRAME_CONFIRMATIONS_REQUIRED=4
TIMEFRAME_WEIGHT=3.0
TIMEFRAME_LIST=5m,15m,1h,4h

# Volume Pattern Analysis
ENABLE_VOLUME_PATTERNS=true
VOLUME_EXPLOSION_THRESHOLD=2.0
VOLUME_HIGH_THRESHOLD=1.5
VOLUME_LOW_THRESHOLD=0.5
ACCUMULATION_RSI_THRESHOLD=45
VOLUME_PATTERN_WEIGHT=2.0

# Volume Spike Detection
ENABLE_VOLUME_SPIKE_DETECTION=true
VOLUME_SPIKE_SCAN_INTERVAL_SECONDS=60
VOLUME_SPIKE_EXPLOSIVE_THRESHOLD=4.0
VOLUME_SPIKE_MAJOR_THRESHOLD=3.0
VOLUME_SPIKE_MODERATE_THRESHOLD=2.0
VOLUME_SPIKE_MINOR_THRESHOLD=1.5

# Market Regime Detection
ENABLE_MARKET_REGIME=true
BULL_MARKET_MULTIPLIER=1.2
BEAR_MARKET_MULTIPLIER=0.5
NORMAL_MARKET_MULTIPLIER=1.0
REGIME_CHECK_INTERVAL_SECONDS=300

# Enhanced Signal Quality
MIN_CONFIRMATIONS_STANDARD=6
MIN_CONFIRMATIONS_ADVANCED=8
MIN_CONFIRMATIONS_QUANTUM=10
CONFIDENCE_THRESHOLD=0.9

# ML Confidence Scoring
ENABLE_ML_CONFIDENCE=true
ML_CONFIDENCE_WEIGHT=0.4
TRADITIONAL_CONFIDENCE_WEIGHT=0.6
ML_MODEL_RETRAIN_INTERVAL_DAYS=30

# Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=true
PERFORMANCE_REPORT_INTERVAL_HOURS=24
SIGNAL_METRICS_RETENTION_DAYS=90
AUTO_GENERATE_REPORTS=true

# Trading Day Management
ENABLE_MUSLIM_HOLIDAYS=true
ENABLE_WEEKEND_TRADING=false
ENABLE_AFTER_HOURS_TRADING=false
ENABLE_PREMARKET_TRADING=true
MARKET_TIMEZONE=America/New_York
MARKET_OPEN_TIME=09:30
MARKET_CLOSE_TIME=16:00
PREMARKET_START_TIME=04:00
AFTER_HOURS_END_TIME=20:00

# News Sentiment Analysis (Consolidated - see optimized_strategies.env for full config)
ENABLE_NEWS_SENTIMENT=true
NEWS_LOOKBACK_HOURS=24
NEWS_CACHE_MINUTES=30

# Premium Trailing Stops for 1%-20% Move Capture
ENABLE_PREMIUM_TRAILING=true
BREAK_EVEN_TRIGGER_PCT=0.5
ATR_TRAIL_START_PCT=1.0
ATR_MULTIPLIER=1.5
ATR_TIGHTEN_PCT=2.0
PERCENTAGE_TRAIL_START_PCT=2.0
PERCENTAGE_TRAIL_PCT=1.5
PERCENTAGE_TIGHTEN_PCT=5.0
MOMENTUM_TRAIL_START_PCT=3.0
MOMENTUM_TRAIL_PCT=2.0
MOMENTUM_BOOST_PCT=8.0
EXPLOSIVE_TRAIL_START_PCT=5.0
EXPLOSIVE_TRAIL_PCT=3.0
EXPLOSIVE_HOLD_PCT=10.0
MOON_TRAIL_START_PCT=10.0
MOON_TRAIL_PCT=5.0
MOON_HOLD_PCT=15.0
TRAIL_ATR_MULTIPLIER=1.5

# ===== ORB Strategy Configuration (Rev 00173) ===== ⭐
# ARCHIVED: Multi-strategy system no longer used - ORB strategy only
# ENABLE_MULTI_STRATEGY=false  # ❌ ARCHIVED
ENABLE_ORB_STRATEGY=true  # ⭐ PRIMARY STRATEGY
ORB_WINDOW_START=06:30  # 6:30 AM PT (9:30 AM ET)
ORB_WINDOW_END=06:45    # 6:45 AM PT (9:45 AM ET)
SO_ENTRY_TIME=07:15     # 7:15 AM PT (10:15 AM ET)
SO_CUTOFF_TIME=07:30    # 7:30 AM PT (10:30 AM ET)
ORR_START_TIME=07:15    # 7:15 AM PT (10:15 AM ET)
ORR_CUTOFF_TIME=12:15   # 12:15 PM PT (3:15 PM ET)
MAX_TOTAL_POSITIONS=20  # Max concurrent positions
SIGNAL_COOLDOWN_MINUTES=30
ORB_SCAN_INTERVAL=30    # 30 seconds for ORR monitoring

# ===== 0DTE Strategy Configuration (Rev 00209) ===== ⭐
# Enable 0DTE Strategy integration with ORB Strategy
ENABLE_0DTE_STRATEGY=true  # ⭐ Enable 0DTE Strategy (shares same Cloud Run service)

# Telegram Alerts for All Trading Signals
ENABLE_SIGNAL_ALERTS=true
ENABLE_DAILY_PNL_SUMMARY=true
ENABLE_HOURLY_STATUS_UPDATES=true
ALERT_ON_SIGNAL_GENERATION=true
ALERT_ON_POSITION_OPENING=true
ALERT_ON_POSITION_CLOSING=true

# Ultra-High Confidence Trading System
ENABLE_ULTRA_CONFIDENCE=true
ULTRA_CONFIDENCE_THRESHOLD=0.995
EXTREME_CONFIDENCE_THRESHOLD=0.990
VERY_HIGH_CONFIDENCE_THRESHOLD=0.975
HIGH_CONFIDENCE_THRESHOLD=0.950
MAX_ULTRA_POSITION_PCT=50.0
MAX_CONSECUTIVE_WIN_MULTIPLIER=2.0
MAX_QUALITY_MULTIPLIER=1.5
ENABLE_CONSECUTIVE_WIN_TRACKING=true
PERFORMANCE_HISTORY_RETENTION_DAYS=365

# === WATCHLIST CONFIGURATION ===
WATCHLIST_FILE=data/hybrid_watchlist.csv
CORE_SYMBOLS=SPY,QQQ,IWM,DIA,VTI,VOO,TSLA,NVDA,AAPL,AMD,MSFT,META,AMZN,GOOGL,TQQQ,SQQQ,SOXL,SOXS,UPRO,SPXU,TECL,FAS,FAZ,ARKK,XLF,XLE,XLK,XLC,XLB,XLV,XLI,XLY,TSLL,ERX,FNGU,GOOGL2L,QLD,SSO,UDOW,TZA
ENABLE_PERFORMANCE_TRACKING=true
REBUILD_WATCHLIST=true

# === DATA PATHS ===
CORE_LIST_PATH=data/watchlist/core_list.csv
HYBRID_LIST_PATH=data/hybrid_watchlist.csv
STATE_PATH=data/state.json
SYMBOL_PERFORMANCE_LOG=data/symbol_performance.json

# === BOT CONFIGURATION ===
BOT_TAG=EES
HIDDEN_STOPS=true
ENABLE_TP2=true
TP2_PCT=45

# === HTTP SERVER ===
PORT=8080

# === POSITION SIZING CONFIGURATION ===
# Rev 00102: Capital allocation in configs/strategies.env (SINGLE SOURCE OF TRUTH)
# SO_CAPITAL_PCT=90, CASH_RESERVE_PCT=10, ORR_CAPITAL_PCT=0
BASE_POSITION_SIZE_PCT=10.0
MAX_POSITION_SIZE_PCT=35.0

# === PERFORMANCE TARGETS ===
TARGET_LATENCY_MS=50
TARGET_CACHE_HIT_RATE=85
TARGET_SUCCESS_RATE=99.5
TARGET_MEMORY_USAGE_MB=1024
TARGET_CPU_USAGE_PCT=70

# === MONITORING CONFIGURATION ===
ENABLE_REAL_TIME_MONITORING=true
MONITORING_INTERVAL_SECONDS=30
ALERT_ON_PERFORMANCE_DEGRADATION=true
PERFORMANCE_DEGRADATION_THRESHOLD=0.8
AUTO_OPTIMIZE_CONFIGURATION=true
