# Position Sizing Configuration
# ============================
# Comprehensive position sizing configuration for The Easy ORB Strategy
# Implements 80/20 rule, confidence boosting, strategy agreement, and profit scaling
# Last updated: 2026-01-06 (Rev 00231)

# Base Position Sizing (OPTIMIZED FOR MAXIMUM PROFIT CAPTURE)
BASE_POSITION_SIZE_PCT=10.0  # 10% base position size to match Live Mode
MAX_POSITION_SIZE_PCT=35.0   # Maximum position size after all boosts
MIN_POSITION_SIZE_PCT=1.0
MIN_POSITION_VALUE=50.0

# Capital Allocation Configuration (Rev 00084)
# CRITICAL: TOTAL_CAPITAL_ALLOCATION_PCT + CASH_RESERVE_PCT must = 100%
# CRITICAL: SO_CAPITAL_PCT + ORR_CAPITAL_PCT must = TOTAL_CAPITAL_ALLOCATION_PCT

# Total Capital Allocation (adjustable: 90%, 85%, 80%, etc.)
TOTAL_CAPITAL_ALLOCATION_PCT=90.0  # Total trading capital (adjust here to change overall deployment)
CASH_RESERVE_PCT=10.0               # Cash reserve (must = 100% - TOTAL_CAPITAL_ALLOCATION_PCT)

# Strategy Allocation (must sum to TOTAL_CAPITAL_ALLOCATION_PCT)
SO_CAPITAL_PCT=90.0   # Standard Order allocation (currently 90% of account = 100% of trading capital)
ORR_CAPITAL_PCT=0.0   # Opening Range Reversal (currently DISABLED = 0% of trading capital)

# Example scenarios:
# Scenario 1 (Current): 90% trading, 10% reserve
#   - TOTAL_CAPITAL_ALLOCATION_PCT=90.0, CASH_RESERVE_PCT=10.0
#   - SO_CAPITAL_PCT=90.0, ORR_CAPITAL_PCT=0.0
#   - Result: SO gets 90%, ORR gets 0%, Reserve 10%
#
# Scenario 2: Enable ORR (70/20 split)
#   - TOTAL_CAPITAL_ALLOCATION_PCT=90.0, CASH_RESERVE_PCT=10.0
#   - SO_CAPITAL_PCT=70.0, ORR_CAPITAL_PCT=20.0
#   - Result: SO gets 70%, ORR gets 20%, Reserve 10%
#
# Scenario 3: More conservative (80% total)
#   - TOTAL_CAPITAL_ALLOCATION_PCT=80.0, CASH_RESERVE_PCT=20.0
#   - SO_CAPITAL_PCT=80.0, ORR_CAPITAL_PCT=0.0
#   - Result: SO gets 80%, ORR gets 0%, Reserve 20%

# Legacy 80/20 Rule (deprecated - use above instead)
TRADING_CASH_PCT=80.0
POSITION_SPLITTING_ENABLED=true

# Available Capital Calculation
INCLUDE_CURRENT_POSITIONS=true
IGNORE_MANUAL_POSITIONS=true
BOT_TAG=EES

# Confidence-Based Boosting (OPTIMIZED FOR BIGGER POSITIONS)
ULTRA_HIGH_CONFIDENCE_THRESHOLD=0.95  # Lowered from 0.995 to 0.95 for more opportunities
HIGH_CONFIDENCE_THRESHOLD=0.90        # Lowered from 0.95 to 0.90 for more opportunities
MEDIUM_CONFIDENCE_THRESHOLD=0.85      # Lowered from 0.90 to 0.85 for more opportunities
ULTRA_HIGH_CONFIDENCE_MULTIPLIER=2.5  # Increased from 1.5 to 2.5x for explosive moves
HIGH_CONFIDENCE_MULTIPLIER=2.0        # Increased from 1.2 to 2.0x for trending moves
MEDIUM_CONFIDENCE_MULTIPLIER=1.0

# Strategy Agreement Boosting
AGREEMENT_MEDIUM_BONUS=0.25
AGREEMENT_HIGH_BONUS=0.50
AGREEMENT_MAXIMUM_BONUS=1.00

# Profit-Based Scaling (OPTIMIZED FOR EXPLOSIVE MOVES)
PROFIT_SCALING_50_PCT_MULTIPLIER=2.5   # Moon moves (50%+): 2.5x boost
PROFIT_SCALING_25_PCT_MULTIPLIER=2.5   # Explosive moves (25%+): 2.5x boost  
PROFIT_SCALING_12_PCT_MULTIPLIER=1.8   # Trending moves (12%+): 1.8x boost
PROFIT_SCALING_5_PCT_MULTIPLIER=1.0    # Base moves (5%+): 1.0x (no boost)

# Win Streak Boosting
WIN_STREAK_ENABLED=true
WIN_STREAK_BASE_MULTIPLIER=1.0
WIN_STREAK_MAX_MULTIPLIER=2.0
WIN_STREAK_TRACKING_DAYS=30

# Position Splitting Logic
POSITION_SPLITTING_METHOD=even
MAX_CONCURRENT_POSITIONS=15
POSITION_REBALANCING_ENABLED=true

# Risk Controls
MAX_POSITION_RISK_PCT=35.0
POSITION_RISK_VALIDATION=true
OVERRIDE_RISK_LIMITS=false

# Performance Tracking
POSITION_SIZING_METRICS_ENABLED=true
BOOSTING_EFFECTIVENESS_TRACKING=true
PROFIT_SCALING_TRACKING=true
WIN_STREAK_TRACKING=true

# Configuration Validation
VALIDATE_POSITION_SIZING=true
VALIDATE_80_20_RULE=true
VALIDATE_BOOSTING_SCENARIOS=true
VALIDATE_RISK_LIMITS=true
